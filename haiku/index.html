---
layout: default
title: Haiku Generator
---
<p>Welcome to the world of computer generated poetry!</p>
<p>blahblahbleepblahbloop</p>
<h3 id="prompt">Please click this button to create and read a computer generated Haiku</h3>

      <button id="haikuButton">Haiku</button>

      <div id="poemField">
            <p> </p>
      </div><br>

<script>
/* building the GET request */
const getThePoem = () => {
      const url = 'https://h5d484s0ib.execute-api.us-east-2.amazonaws.com/stage01/Haiku_Generator';
      const endpoint = url;
      const xhr = new XMLHttpRequest();
      xhr.responseType = 'json';
      xhr.onreadystatechange = () => {
        if (xhr.readyState === XMLHttpRequest.DONE) {
              addToPoemField(xhr.response);
        }
      };
      xhr.open('GET', endpoint);
      xhr.send();
      }
/* end of 'building the GET request' */


const displayPoem = (response00) => {
      event.preventDefault();
      while(poemField.firstChild){
            poemField.removeChild(poemField.firstChild);
      };
      getThePoem();
};
      
const addToPoemField = (response00) => {
      if(!response00){ 
            console.log(response00.status);
            return;
      } else {
            console.log(response00);
            document.getElementById("poemField").innerHTML = `<p>${response00}</p>`;
            return;
      }
};

document.getElementById('haikuButton').addEventListener('click', displayPoem);
</script>
